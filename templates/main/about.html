{% extends 'base.html' %}
{% load static %}

{% block title %}About - JCORP{% endblock %}

{% block content %}
<div class="page-content dossier-page">
    <div class="container">
        {% if agents %}
        <div class="about-dossier-container">
            <div class="about-dossier-header">
                <h1 class="about-dossier-title">AGENT DOSSIERS</h1>
                <p class="about-dossier-subtitle">CLASSIFIED PERSONNEL FILES</p>
            </div>
            
            <div class="agents-grid">
                {% for agent in agents %}
                <div class="agent-dossier-card">
                    <div class="agent-dossier-header">
                        <div class="agent-dossier-meta">
                            <span class="meta-label">FILE #:</span>
                            <span class="meta-value">{{ agent.id|stringformat:"04d" }}</span>
                        </div>
                        <div class="agent-dossier-meta">
                            <span class="meta-label">STATUS:</span>
                            <span class="meta-value">ACTIVE</span>
                        </div>
                    </div>
                    
                    <div class="agent-profile-picture-container">
                        {% if agent.profile_picture %}
                        <img src="{{ agent.profile_picture.url }}" alt="{{ agent.name }}" class="agent-profile-picture">
                        {% else %}
                        <img src="{% static 'images/profile-placeholder.svg' %}" alt="{{ agent.name }}" class="agent-profile-picture">
                        {% endif %}
                    </div>
                    
                    <div class="agent-dossier-body">
                        <h2 class="agent-name">{{ agent.name }}</h2>
                        <div class="agent-description">
                            <span class="section-label">BIO:</span>
                            <p class="section-content">{{ agent.description|linebreaks }}</p>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            
            {% if agents_count < 3 %}
                {% for i in "123"|make_list %}
                    {% if forloop.counter > agents_count %}
                    <div class="agent-dossier-card agent-dossier-placeholder">
                        <div class="agent-dossier-header">
                            <div class="agent-dossier-meta">
                                <span class="meta-label">FILE #:</span>
                                <span class="meta-value">----</span>
                            </div>
                            <div class="agent-dossier-meta">
                                <span class="meta-label">STATUS:</span>
                                <span class="meta-value">PENDING</span>
                            </div>
                        </div>
                        <div class="agent-profile-picture-container">
                            <img src="{% static 'images/profile-placeholder.svg' %}" alt="Placeholder" class="agent-profile-picture">
                        </div>
                        <div class="agent-dossier-body">
                            <h2 class="agent-name">CLASSIFIED</h2>
                            <div class="agent-description">
                                <span class="section-label">BIO:</span>
                                <p class="section-content">Information pending classification...</p>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                {% endfor %}
            {% endif %}
        </div>
        {% else %}
        <div class="dossier-empty">
            <p class="empty-message">NO FILES FOUND</p>
            <p class="empty-subtitle">Dossier is empty</p>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
